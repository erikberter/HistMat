{% extends 'base.html' %}
{% load i18n %}

{% block title%} {{ apunte.titulo }} | HistMat {% endblock %}

{% load static %}
{% block js%}

    {% csrf_token %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/widgets/fab.css' %}">  

    {% if user.is_authenticated %}
        {% if own_apunte or user.is_superuser or user.is_content_editor %}
        <script>
            var fab = new Vue({
                el: '#fab-container',
                data: {
                    update_url: "{% url 'apuntes:apuntes_update' apunte.pk %}"
                },
                methods: {
                    fab_action: function (event) {
                        
                        window.location = this.update_url;
                    }
                }
            })
        </script>
        {% endif %}
    {% endif %}
{% endblock %}

{% block content%}
<div class="container">

    <div class="card mt-3" style="width: 70rem;">


        <div class="card-body">
            <h5 class="card-title">
            {{apunte.nombre}}
            </h5>
            <a class="btn btn-default" href="{% url 'apuntes:apuntes_remove' apunte.pk %}"><i class="fa fa-trash"></i></a>
            {% if apunte.documento%}
            <a class="btn w-100 btn-success" href="{{apunte.documento.url}}"> PDF </a>
            {% else %}
            <a class="btn w-100 btn-success disabled" > PDF </a>
            {% endif %}
            
         
            
            
        </div>
    </div>
</div>
{% endblock%}

{% block widgets %}
    {% if user.is_authenticated %}
        {% if own_apunte or user.is_superuser or user.is_content_editor %}
            {% include 'widgets/fab.html'%}
        {% endif %}
    {% endif %}
{% endblock %}